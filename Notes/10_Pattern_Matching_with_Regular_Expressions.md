# 正则表达式的模式匹配
正则表达式(regular expression)是一个描述字符模式的对象。Javascript的RegExp类表示正则表达式，String和RegExp都定义了方法，后者使用正则表达式进行强大的模式匹配和文本检索与替换功能。Javascript的正则表达式语法是Perl5的正则表达式语法的大型子集。

## 10.1 正则表达式的定义
Javascript中的正则表达式用RegExp对象表示，可以使用RegExp()构造函数来创建RegExp对象，不过RegExp对象更多的是通过一种铁直接量语法来创建。就像通过绰号包裹字符的方式来定义字符串直接量一样，正则表达式直接量定义为包含在对斜杠(/)之间的字符，如：

```javascript
var pattern = /s$/;
```

运行这段代码创建一个新的RegExp对象，并将它赋值给变量pattern。这个特殊的RegExp对象用来匹配所有以字母`s`结尾的字符串，用构造函数RegExp()也可以定义一个与之等价的正则表达式，如：

```javascript
var pattern = new RegExp("s$");
```

### 10.1.1 直接量字符
正则表达式中的所有字母和数字都是按照字面含义进行匹配的。Javascript正则表达式语法也支持非字母的字符匹配，这些字符需要通过反斜线(\)作为前缀进行转义，如\n用以匹配换行符，其他转义字符如：

字符 | 匹配
--- | ---
字母和数字字符 | 自身
\o | NUL字符(\u0000)
\t | 制表符(\u0009)
\n | 换行符(\u000A)
\v | 垂直制表符(\u000B)
\f | 换页符(\u000f)
\r | 回车符(\u000D)
\xnn | 由十六进制数nn指定的拉丁字符
\u0000 | 由十六进制数xxxx指定的Unicode字符
\cX | 控制字符^X

在正则表达中，许多标点符号具有特殊含义，它们是：

```javascript
^ $ . * + ? = ! : | \ / ( ) [ ] { }
```

某些符号只有在正则表达式的某些上下文中才具有某种特殊含义，在其他上下文中则被当成直接量处理。然而，如果想在正则表达式中使用这些字符的直接量进行匹配，则必须使用前经\，这是一条通用规则。其他标点符号则没有特殊含义。

如果不记得哪些标点符号需要反斜线转义，可以在每个标点符号前都加上反斜线。另需要注意，许多字母和数字在有反斜线做前缀时也有特殊含义，所以对于想按照直接量进行匹配的字母和数字，尽量不要用反斜线对其转义。如果需要匹配反斜线，则使用`\\`进行匹配。

### 10.1.2 字符类
将直接量字符单独放进方括号内就组成了字符串(character class)。一个字符类可以匹配它所包含的任意字符。因此，正则表达式`/[abc]/`就和字母`a`、`b`、`c`中的任意一个都匹配。另外可以通过`^`符号来定义否定字符类，它匹配所有不包含在方括号内的字符。定义否定字符类时，需要将`^`符号作为左方括号内的第一个字符。正则表达式`/[^abc]/`匹配的是`a`、`b`、`c`之外的所有字符。字符类可以使用连字符来表示字符范围。要匹配拉丁字母表中的小写字母，可以使用`/[a-z]`，要匹配拉丁字母表中任何字母和数字，则使用`/[a-zA-Z0-9]/`。

由于某些字符类非常常用，在Javascript的正则表达式语法中，使用了这些特殊字符的转义字符来表示它们。如，`\s`匹配的是空格符、制表符和其他Unicode空白符，`\S`匹配的是非Unicode空白符的字符。

字符 | 匹配
--- | ---
[...] | 方括号内的任意字符
[^...] | 不在方括号内的任意字符
. | 除换行符和其他Unicode行终止符之外的任意字符
\w | 任何ASCII字符组成的单词，等价于[a-zA-Z0-9]
\W | 任何不是ASCII字符组成的单词，等价于[^a-zA-Z0-9]
\s | 任何Unicode空白符
\S | 任何非Unicode空白符，注意\w与\S不同
\d | 任何ASCII数字，等价于[0-9]
\D | 任何不是ASCII数字，等价于[^0-9]
[\b] | 退格直接量

### 10.1.3 重复


### 10.1.4 选择、分组和引用

### 10.1.5 指定匹配位置

### 10.1.6 修饰符

## 10.2 用于模式匹配的String方法

## 10.3 RegExp对象

### 10.3.1 RegExp的属性



Author website: [furzoom](http://furzoom.com/about-us/ "Furzoom")
